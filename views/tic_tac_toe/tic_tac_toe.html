<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe</title>
    <style>
        body {
            background-color: antiquewhite;
        }

        .box {
            height: 200px;
            width: 200px;
            font-size: 100px;


            border-radius: 10px;
        }

        .container {
            display: flex;

            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-top: 200px;
        }
    </style>
</head>

<body>
    <h1>Tirth Raval</h2>
        <div class="container">
            <div class="tic1">
                <button class="box"></button>
                <button class="box"></button>
                <button class="box"></button>
            </div>
            <div class="tic2">
                <button class="box"></button>
                <button class="box"></button>
                <button class="box"></button>
            </div>
            <div class="tic3">
                <button class="box"></button>
                <button class="box"></button>
                <button class="box"></button>
            </div>
        </div>
        <input type="button" value="RestartGame" onclick="restartGame()">
        <script>
            let boxes = document.querySelectorAll(".box");
            let turn0 = true;
            let clickCount = 0;
            const patterns = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 4, 8], [2, 4, 6], [0, 3, 6], [1, 4, 7], [2, 5, 8]]
            boxes.forEach((box) => {
                box.addEventListener("click", () => {
                    if (turn0) {
                        box.innerHTML = "O";
                        turn0 = false;
                    }
                    else if (turn0 != true) {
                        box.innerHTML = "X";
                        turn0 = true;
                    }
                    box.disabled = true;
                    clickCount++;
                    let iswinner = winnerchecking()
                    if (iswinner == true) {
                        restartGame();
                    }
                    if (clickCount == 9 && iswinner == false) {
                        alert("Match is draw");
                        restartGame();
                    }
                    console.log(iswinner)
                })
            })
            function winnerchecking() {
                for (let pattern of patterns) {
                    console.log(pattern[0])
                    let val1 = boxes[pattern[0]].innerHTML;
                    let val2 = boxes[pattern[1]].innerHTML;
                    let val3 = boxes[pattern[2]].innerHTML;
                    if (val1 != "" && val2 != "" && val3 != "") {
                        if (val1 == val2 && val2 == val3) {
                            alert("player " + val1 + " wins")
                            console.log("winner player is " + val1);
                            return true;
                        }
                    }
                }
                return false;
            }
            function restartGame() {
                for (let i = 0; i < boxes.length; i++) {
                    boxes[i].innerHTML = "";
                    boxes[i].disabled = false;
                }
                clickCount = 0;
            }
        </script>
</body>

</html>