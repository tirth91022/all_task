<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Attendance Report</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }

        h1 {
            text-align: center;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th,
        td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #f2f2f2;
        }

        tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        a {
            text-decoration: none;
            padding: 5px 10px;
            margin: 0 5px;
            border: 1px solid #ddd;
            border-radius: 3px;
            background-color: #f2f2f2;
            color: #333;
        }

        a:hover {
            background-color: #ddd;
        }

        select {
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 3px;
        }
    </style>
</head>

<body>
    <h1>Report</h1>
    <table>
        <tr>
            <th>ID</th>
            <th>NAME</th>
            <th>PRESENT DAYS</th><br>
            <th>PRESENT DAYS RATIO</th>
        </tr>
        <% student.forEach(student=> {%>
            <tr>
                <td>
                    <%= student.studentId %>
                </td>
                <td>
                    <%= student.firstName %>
                </td>
                <td>
                    <%= student.present_days %>
                </td>
                <td>
                    <%= student.present_days_ratio %>
                </td>
            </tr>
            <% }); %>
    </table>
    <% if (currentPage> 1) { %>
        <a href="?page=1">
            < </a>
                <a href="?page=<%=currentPage - 1%>">
                    << </a>
                        <% } %>
                            <% if(nextPage){%>
                                <a href="?page=<%=currentPage + 1%>">></a>
                                <a href="?page=20">>></a>
                                <% } %>
                                    <select onchange="location = this.value;" id="date">
                                        <option value="">Select an Option</option>
                                        <option selected value="/2023/12">Dec 23</option>
                                        <option value="/2024/01">Jan 24</option>
                                        <option value="/2024/02">Feb 24</option>
                                    </select>
</body>
<script>
    let selector = document.getElementById("date");
    selector.value = sessionStorage.getItem('selector-value') ? sessionStorage.getItem('selector-value') : "/2023/12";

    const changeSelector = () => {
        console.log("change selector");
        sessionStorage.setItem('selector-value', selector.value)
        console.log(selector.value);
    }
    selector.addEventListener("change", () => { changeSelector() })
</script>

</html>